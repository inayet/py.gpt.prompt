flowchart TD

    subgraph ChatSession Initialization
        User[User] --> ChatSession[ChatSession]
        ChatSession --> ConfigurationManager[ConfigurationManager]
        ConfigurationManager --> JSONInterface[JSONInterface]
        ConfigurationManager --> MappingInterface[MappingInterface]
        ChatSession --> ChatModelFactory[ChatModelFactory]
        ChatModelFactory --> ChatModel[ChatModel]
        ChatSession --> ChatSessionTokenManager[ChatSessionTokenManager]
        ChatSession --> ContextWindowManager[ContextWindowManager]
        ChatSession --> TranscriptManager[TranscriptManager]
    end

    subgraph ChatModel Interaction
        ChatModel --> JSONManager[JSONManager]
        ChatModel --> ChatCompletionMessage[ChatCompletionMessage]
    end

    subgraph Context Management
        ContextWindowManager --> ChatModelChatCompletion[ChatModelChatCompletion]
    end

    subgraph Transcript Management
        TranscriptManager --> ChatModelChatCompletion
        TranscriptManager --> VectorDatabase[VectorDatabase]
    end

    JSONInterface --> JSONManager
    MappingInterface --> ChatCompletionMessage
    ChatSessionTokenManager --> ConfigurationManager