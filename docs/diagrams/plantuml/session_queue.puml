@startuml
!theme blueprint

' Define classes

class SessionQueue {
  - ConfigurationManager config
  - SessionToken token
  - SessionPolicy policy
  - ChatModel model
  - list transcript
  - list messages
  - string name
}

class ConfigurationManager {
  ..
}

class SessionModel {
  ..
}

class SessionToken {
  ..
}

class SessionPolicy {
  ..
}

class ChatModelFactory {
  - ConfigurationManager config
  - dict provider_map
  + ChatModel create_model()
}

class ChatModel {
  + str name
  + int max_tokens
  + int reserve
  + dict system_message
  + ChatCompletionMessage get_chat_completions()
  + EmbedData get_embeddings()
}

' Define relationships

SessionQueue o-- ConfigurationManager : uses >
SessionQueue o-- SessionModel : uses >
SessionQueue o-- SessionToken : uses >
SessionQueue o-- SessionPolicy : uses >
SessionQueue o-- ChatModelFactory : uses >
ChatModelFactory o-- ChatModel : creates >
@enduml